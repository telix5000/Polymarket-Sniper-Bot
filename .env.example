# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Polymarket Bot - Configuration
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# === REQUIRED ===
PRIVATE_KEY=your_private_key_here

# === OPTIONAL ===
# RPC URL (Polygon). If not set, defaults to https://polygon-rpc.com
# Infura Polygon RPC is recommended (get your API key at infura.io)
# This goes direct (no VPN) - Infura is not geo-blocked
RPC_URL=https://polygon-mainnet.infura.io/v3/YOUR_API_KEY

# MAX_TRADE_USD=25
# MIN_TRADE_USD=5              # Minimum trade size (default: same as MAX_TRADE_USD)
# LIVE_TRADING=I_UNDERSTAND_THE_RISKS

# Telegram notifications
# TELEGRAM_BOT_TOKEN=your_bot_token
# TELEGRAM_CHAT_ID=your_chat_id

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DIAGNOSTIC MODE - One-shot workflow for auth/execution verification
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# When enabled, runs a deterministic 4-step workflow then EXITS:
# 1. WHALE_BUY: Wait for whale signal, attempt BUY of 1 share
# 2. WHALE_SELL: Attempt SELL of 1 share (same market)
# 3. SCAN_BUY: Run market scan once, attempt BUY of 1 share
# 4. SCAN_SELL: Attempt SELL of 1 share (same market)
#
# Exit code 0 = workflow completed (even if actions rejected/skipped)
# Exit code 1 = unexpected crash/uncaught exception
#
# USE FOR: CI/CD verification, auth testing, debugging order execution
# DO NOT USE: For normal trading - this mode exits after the 4 steps!
#
# DIAG_MODE=true                          # Enable diagnostic mode
# DIAG_WHALE_TIMEOUT_SEC=60               # Timeout waiting for whale signal (default: 60)
# DIAG_ORDER_TIMEOUT_SEC=30               # Timeout for order execution (default: 30)
# DIAG_FORCE_SHARES=1                     # Force exactly N shares per order (default: 1)
#
# GitHub Actions integration: When GITHUB_ACTIONS=true, emits ::group:: logs
#

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DEBUG MODE - Enable verbose logging for troubleshooting
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Set DEBUG=true to see detailed logs including:
# - Individual whale trades detected
# - Market data for each entry attempt (bid/ask/spread/mid)
# - Bias calculations and cooldown status
# - API response details
#
# DEBUG=true
#

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# MARKET SCANNER - Scan for Active Trading Opportunities (ENABLED BY DEFAULT)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# When no whale signals are present, the bot scans for the most active
# markets on Polymarket and looks for trading opportunities there.
# This keeps the churn going even during quiet periods!
#
# SCAN_ACTIVE_MARKETS=true              # Enable/disable scanner (default: true)
# SCAN_MIN_VOLUME_USD=10000             # Min 24h volume to consider (default: $10k)
# SCAN_TOP_N_MARKETS=20                 # Number of top markets to track (default: 20)
# SCAN_INTERVAL_SECONDS=300             # Refresh interval (default: 5 min)
#
# Disable scanner to only trade on whale signals:
# SCAN_ACTIVE_MARKETS=false

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DYNAMIC RESERVES - Self-Balancing Capital Management (ENABLED BY DEFAULT)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Automatically adjusts reserves based on:
# - Missed opportunities (too much reserve? â†’ lower it to trade more)
# - Missed hedges (not enough reserve? â†’ raise it for protection)
#
# This keeps the capital churning optimally!
#
# DYNAMIC_RESERVES_ENABLED=true         # Enable/disable (default: true)
# RESERVE_ADAPTATION_RATE=0.1           # How fast to adapt (default: 10%)
# MISSED_OPPORTUNITY_WEIGHT=0.5         # Weight for missed trades (default: 50%)
# HEDGE_COVERAGE_WEIGHT=0.5             # Weight for hedge needs (default: 50%)
# MAX_RESERVE_FRACTION=0.5              # Maximum reserve (default: 50%)
#
# Disable dynamic reserves for fixed 25% reserve:
# DYNAMIC_RESERVES_ENABLED=false

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ORDER TYPES - IMPORTANT: Understand the Difference!
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# FOK (Fill-Or-Kill) - DEFAULT:
#   âœ“ Order fills IMMEDIATELY and COMPLETELY, or is cancelled
#   âœ“ Does NOT "sit there until filled" - it's instant or nothing!
#   âœ“ Best for: Fast-moving markets, copying whale trades quickly
#   âœ— May miss opportunities if price moves before execution
#
# GTC (Good-Til-Cancelled) - LIMIT ORDER:
#   âœ“ Posts to orderbook and WAITS until your price is hit
#   âœ“ Like a stock market limit order - sits until filled or cancelled
#   âœ“ Best for: Getting a specific price, patient entry/exit
#   âœ— May never fill if price moves away from your limit
#
# CONFIGURATION PRIORITY (highest to lowest):
#   1. BUY_ORDER_TYPE / SELL_ORDER_TYPE (side-specific)
#   2. ORDER_TYPE (master setting for both sides)
#   3. Default: FOK
#
# Set a MASTER order type for BOTH buys and sells:
# ORDER_TYPE=GTC
#
# Or fine-tune per side:
# BUY_ORDER_TYPE=GTC
# SELL_ORDER_TYPE=FOK
#
# For GTC buy orders, expiration in seconds (default: 3600 = 1 hour):
# BUY_GTC_EXPIRATION_SECONDS=3600
#
# Slippage settings for BUY orders (only used with FOK):
# BUY_DEFAULT_SLIPPAGE_PCT=2
# BUY_MAX_SLIPPAGE_PCT=5
#
# For GTC sell orders, expiration in seconds (default: 86400 = 24 hours):
# SELL_GTC_EXPIRATION_SECONDS=86400
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ORDER PRICE BOUNDS - The Profit Law (35Â¢ - 65Â¢)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# These are OUR trading limits based on the profit law:
#   - MIN: 35Â¢ - Matches preferredEntryLowCents
#   - MAX: 65Â¢ - Matches preferredEntryHighCents
#
# All order prices are clamped to these bounds before submission.
# (Polymarket API accepts 0.01-0.99, but we follow the profit law)
#
# ORDER_MIN_PRICE=0.35    # Minimum order price (default: 0.35 = 35Â¢)
# ORDER_MAX_PRICE=0.65    # Maximum order price (default: 0.65 = 65Â¢)
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ON-CHAIN MONITORING - Blockchain-Speed Detection via Infura WebSocket
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# WHY THIS MATTERS:
#   On-chain events are FASTER than Polymarket API!
#   - Blockchain: ~2 sec block time, instant event notification
#   - Polymarket API: Polling-based, 200ms+ delay, can miss rapid moves
#
# WHAT WE MONITOR VIA INFURA (FAST):
#   âœ“ Whale trades (OrderFilled events) - see them BEFORE the API!
#   âœ“ Our position changes (Transfer events) - instant fill confirmation
#   âœ“ Real-time prices on tokens we hold - no polling needed
#
# WHAT STILL NEEDS POLYMARKET API (SLOWER):
#   - Orderbook depth (CLOB is off-chain)
#   - Market metadata
#   - Leaderboard data
#
# DATA PRIORITY: On-chain signals > API signals (on-chain is faster!)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Enable/disable on-chain monitoring (default: true if Infura URL detected)
ONCHAIN_MONITOR_ENABLED=true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# MEMPOOL MONITORING - See PENDING trades BEFORE they confirm!
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# This is the FASTEST way to copy whale trades - you see them BEFORE the
# transaction confirms, allowing you to get in at the same price!
#
# HOW IT WORKS:
# 1. Whale submits a trade â†’ it goes to the mempool (pending)
# 2. We see it in mempool â†’ immediately copy with higher gas
# 3. Our copy trade confirms alongside (or before!) the whale's trade
#
# REQUIREMENTS:
# - RPC provider must support pending transaction subscription
# - Infura, Alchemy, QuickNode all support this
#
# MEMPOOL_MONITOR_ENABLED=true
# MEMPOOL_GAS_MULTIPLIER=1.2   # Use 20% higher gas than whale's transaction

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# WHALE TRADE DETECTION - The #1 Setting If You're Not Seeing Trades!
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Minimum trade size to consider a "whale trade" (default: $100)
# Lower = more signals but more noise. Higher = fewer but stronger signals.
#
# You can use either name (they're identical):
#   WHALE_TRADE_USD=100           (simpler, preferred)
#   ONCHAIN_MIN_WHALE_TRADE_USD=100  (legacy name, still works)
#
# DEFAULT: $100 - catches most whale activity. Increase to $500 for stronger signals only.
#
# WHALE_TRADE_USD=100

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# WHALE PRICE-RANGE FILTERING - Filter trades by price (DEFAULT: 35Â¢-65Â¢)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# By default, whale trades are filtered to the 35Â¢-65Â¢ price range.
# This matches the bot's preferred entry zone (preferredEntryLowCents/High).
#
# DEFAULT VALUES (active out of the box - no need to set):
#   WHALE_PRICE_MIN=0.35    # Minimum 35Â¢
#   WHALE_PRICE_MAX=0.65    # Maximum 65Â¢
#
# To customize the range:
#   WHALE_PRICE_MIN=0.30    # Minimum 30Â¢
#   WHALE_PRICE_MAX=0.70    # Maximum 70Â¢
#
# To DISABLE filtering entirely (accept any price):
#   WHALE_PRICE_MIN=
#   WHALE_PRICE_MAX=
#
# If WHALE_PRICE_MIN > WHALE_PRICE_MAX, a warning is logged and filtering is disabled.
#

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# WHALE TRADING REQUIREMENTS - Why No Buys Are Happening
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# With COPY_ANY_WHALE_BUY=true (default), you only need:
#   - ONE whale trade â‰¥ WHALE_TRADE_USD ($100) â†’ immediately copied!
#   - Only staleness check applies (no flow/trades thresholds)
#
# With COPY_ANY_WHALE_BUY=false, additional bias requirements apply:
#   - BIAS_MIN_NET_USD: $300 - Net whale flow must exceed this value
#   - BIAS_MIN_TRADES: 3 - At least this many whale trades required
#   - biasWindowSeconds: 3600 - FIXED internal window; trades within 1 hour are summed (not user-configurable)
#   - BIAS_STALE_SECONDS: 900 - Bias expires after this many seconds of no activity
#
# TUNING BIAS THRESHOLDS (conservative mode only):
#   BIAS_MIN_NET_USD=300    # Lower = more signals, higher = stricter filter
#   BIAS_MIN_TRADES=3       # Lower = more signals, higher = stricter filter
#   BIAS_STALE_SECONDS=900  # Higher = signals last longer, lower = fresher signals only
#
# IF NO BUYS ARE HAPPENING after running for an hour:
#   - Check that your RPC_URL is working (Infura WebSocket required)
#   - Ensure LIVE_TRADING=I_UNDERSTAND_THE_RISKS is set
#   - Try lowering WHALE_TRADE_USD to $50
#   - If using conservative mode, try lowering BIAS_MIN_NET_USD and BIAS_MIN_TRADES
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# INSTANT COPY MODE - Copy ANY whale buy immediately (DEFAULT: ENABLED)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# DEFAULT: true - See ONE whale buy â†’ immediately copy it
#
# When enabled (default):
#   - See ONE whale buy â‰¥ WHALE_TRADE_USD â†’ immediately copy it
#   - No waiting for flow confirmation (only staleness check)
#   - Best for active copy trading
#
# When disabled (COPY_ANY_WHALE_BUY=false):
#   - Requires BIAS_MIN_NET_USD flow from whales in same direction
#   - At least BIAS_MIN_TRADES whale trades needed
#   - More conservative but may miss opportunities
#
# COPY_ANY_WHALE_BUY=true  # Already the default, no need to set

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# INFURA TIER CONFIGURATION
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Set this to match your Infura plan for reference.
# 
# The bot uses WebSocket subscriptions which are very credit-efficient:
# - Subscriptions cost 10 credits ONE TIME
# - Events received via WebSocket are FREE
# - No polling = minimal credit usage
# 
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ TIER        â”‚ CREDITS/SEC      â”‚ CREDITS/DAY     â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ core (FREE) â”‚ 500              â”‚ 3,000,000       â”‚
# â”‚ developer   â”‚ 4,000            â”‚ 15,000,000      â”‚
# â”‚ team        â”‚ 40,000           â”‚ 75,000,000      â”‚
# â”‚ growth      â”‚ 100,000+         â”‚ 200,000,000+    â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# WHY WEBSOCKET IS EFFICIENT:
#   - Subscribe to events: 10 credits (one-time)
#   - Receive events: FREE (no per-event cost)
#   - Compared to polling getLogs: 75 credits per call
#
# The bot monitors:
#   - CTF Exchange OrderFilled events (whale trades)
#   - NEG_RISK Exchange OrderFilled events (negative risk markets)
#   - CTF Token Transfer events (your position changes)

INFURA_TIER=core

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BALANCE REFRESH THROTTLING - Reduce Infura RPC usage
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# The main loop runs every 100-200ms, but wallet balance checks (eth_call and
# eth_getBalance) don't need to run that often. This setting throttles balance
# fetches to reduce Infura RPC credit usage.
#
# HOW IT WORKS:
#   - Balances are cached in memory and reused between cycles
#   - Fresh RPC fetch only happens when the interval expires
#   - Immediate refresh is triggered after trades execute
#   - Logs show when actual RPC fetches occur (look for "ğŸ’° [RPC]")
#
# DEFAULT: 10000ms (10 seconds) - good balance between accuracy and RPC usage
# INCREASE: 15000-30000ms if hitting Infura rate limits
# DECREASE: 5000ms if you need more responsive balance updates
#
# BALANCE_REFRESH_INTERVAL_MS=10000

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# CLOB WEBSOCKET MARKET DATA (NEW - Real-time orderbook streaming)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# The bot now supports real-time orderbook updates via CLOB WebSocket instead
# of constant REST API polling. This improves latency and reduces API load.
#
# HOW IT WORKS:
#   1. WebSocket connects to CLOB and subscribes to markets you're trading
#   2. Orderbook updates stream in real-time
#   3. MarketDataStore caches the latest best bid/ask/mid/spread
#   4. If WebSocket data is stale, automatic REST fallback kicks in
#
# BENEFITS:
#   - Lower latency (no polling delay)
#   - Reduced API calls (streams vs polling)
#   - Fresher market data for entries/exits
#   - Automatic fallback if WebSocket fails
#
# NOTE: WebSocket traffic bypasses VPN automatically (read-only data)
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# WebSocket endpoints (usually don't need to change)
# Per Polymarket docs, the URL path determines the channel:
#   - Market channel: wss://ws-subscriptions-clob.polymarket.com/ws/market (public, no auth)
#   - User channel:   wss://ws-subscriptions-clob.polymarket.com/ws/user   (requires auth)
#
# POLY_WS_HOST sets the base host (without path). The code appends /ws/market or /ws/user.
# POLY_WS_HOST=wss://ws-subscriptions-clob.polymarket.com
#
# DEPRECATED: POLY_WS_BASE_URL is kept for backward compatibility but should not be used.
# POLY_WS_BASE_URL=wss://ws-subscriptions-clob.polymarket.com/ws/

# Reconnection settings (exponential backoff with jitter)
# WS_RECONNECT_BASE_MS=1000      # Initial reconnect delay (1 second)
# WS_RECONNECT_MAX_MS=30000      # Maximum reconnect delay (30 seconds)
# WS_STABLE_CONNECTION_MS=15000  # Connection stable threshold to reset backoff

# Staleness threshold - triggers REST fallback if exceeded
# WS_STALE_MS=2000               # Data older than 2s triggers REST fallback

# REST fallback rate limiting (prevents thundering herd)
# REST_FALLBACK_MIN_INTERVAL_MS=500   # Min 500ms between REST calls per token

# Memory protection - cap tracked tokens to prevent OOM
# MARKETDATA_MAX_TOKENS=500      # Max tokens to track simultaneously

# Depth calculation window (for spread/liquidity checks)
# MARKETDATA_DEPTH_WINDOW_CENTS=5    # Sum depth within 5 cents of touch

# Keepalive ping interval (sends "PING" text message)
# WS_PING_INTERVAL_MS=10000          # Ping every 10 seconds

# Connection timeout
# WS_CONNECTION_TIMEOUT_MS=10000     # 10 second connection timeout

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ADVANCED INFURA SETTINGS (usually auto-configured)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Custom WebSocket URL (optional - auto-detected from RPC_URL for Infura)
# Use this if you have a different WebSocket provider or custom endpoint
# WS_RPC_URL=wss://polygon-mainnet.infura.io/ws/v3/YOUR_API_KEY

# Reconnect delay after WebSocket disconnect (milliseconds)
# Lower = faster reconnect, but more aggressive. Default: 1000ms
# ONCHAIN_RECONNECT_DELAY_MS=1000

# Max reconnect attempts before giving up (default: 10)
# After this, falls back to API-only mode
# ONCHAIN_MAX_RECONNECT_ATTEMPTS=10

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# VPN Configuration (geo-blocked regions only)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# VPN is ONLY needed for Polymarket API (order submissions).
# Infura RPC traffic bypasses VPN automatically for speed.

# WireGuard
# WG_CONFIG=/path/to/wg0.conf

# OpenVPN
# OVPN_CONFIG=/path/to/client.ovpn

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# LIQUIDATION MODE - Force Sell Positions on Startup
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# LIQUIDATION_MODE controls what happens to existing positions:
#   "off"     - Normal trading (default)
#   "losing"  - Only sell positions with negative P&L (in the red)
#   "all"     - Sell ALL positions regardless of P&L
#
# After liquidation completes, the bot AUTOMATICALLY resumes
# normal trading - no restart needed!
#
# Examples:
#   LIQUIDATION_MODE=losing   # Cut your losses, keep winners
#   LIQUIDATION_MODE=all      # Exit everything
#
# Legacy support: FORCE_LIQUIDATION=true maps to LIQUIDATION_MODE=all

# LIQUIDATION_MODE=losing
# LIQUIDATION_MAX_SLIPPAGE_PCT=10
# LIQUIDATION_POLL_INTERVAL_MS=1000

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# POL Gas Reserve Settings
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# POL_RESERVE_TARGET=50
# POL_RESERVE_MIN=0.5
# POL_RESERVE_MAX_SWAP_USD=10

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# GitHub Error Reporter - Auto-report errors to GitHub Issues
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# When enabled, significant errors are automatically reported
# to GitHub Issues for easier debugging and troubleshooting.
#
# âš ï¸ IMPORTANT: BOTH variables below are REQUIRED for this to work!
#    - GITHUB_ERROR_REPORTER_TOKEN = Your GitHub Personal Access Token
#    - GITHUB_ERROR_REPORTER_REPO  = The repo to create issues in
#
# SETUP:
# 1. Create a GitHub Personal Access Token with 'repo' scope
#    https://github.com/settings/tokens/new
# 2. Set BOTH variables below (missing either one = reporter disabled!)
#
# FEATURES:
# - Deduplicates similar errors (1 issue per unique error per hour)
# - Rate limited (max 10 issues/hour by default)
# - Sensitive data (keys, tokens) automatically redacted
# - Reports: trade copy failures, API issues, whale detection problems
#
# GITHUB_ERROR_REPORTER_TOKEN=ghp_your_personal_access_token
# GITHUB_ERROR_REPORTER_REPO=your-username/your-repo-name
# GITHUB_ERROR_REPORTER_ENABLED=true
