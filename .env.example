# === REQUIRED ===
PRIVATE_KEY=your_private_key_here
RPC_URL=https://polygon-rpc.com

# === V1/V2 SYSTEM SELECTION ===
# USE_V2=true  - Use new simple V2 system
# USE_V2=false - Use legacy V1 system (default)
USE_V2=false

# === OPTIONAL ===
# Preset: conservative | balanced | aggressive
PRESET=balanced

# Cycle interval in milliseconds
INTERVAL_MS=5000

# === VPN CONFIGURATION ===
# For geo-blocked regions, configure WireGuard or OpenVPN.
# Both support either config file paths OR environment variables.

# --- WireGuard (Option 1: Config file) ---
# WG_CONFIG=/path/to/wg0.conf

# --- WireGuard (Option 2: Environment variables) ---
# WIREGUARD_ENABLED=true
# WIREGUARD_INTERFACE_NAME=wg0
# WIREGUARD_ADDRESS=10.0.0.2/24
# WIREGUARD_PRIVATE_KEY=your_private_key
# WIREGUARD_MTU=1320
# WIREGUARD_DNS=1.1.1.1
# WIREGUARD_PEER_PUBLIC_KEY=peer_public_key
# WIREGUARD_PEER_PRESHARED_KEY=optional_preshared_key
# WIREGUARD_PEER_ENDPOINT=vpn.example.com:51820
# WIREGUARD_ALLOWED_IPS=0.0.0.0/0,::/0
# WIREGUARD_PERSISTENT_KEEPALIVE=25
# WIREGUARD_FORCE_RESTART=false

# --- WireGuard (Option 3: Full config content) ---
# WIREGUARD_CONFIG="[Interface]\nPrivateKey=...\nAddress=...\n\n[Peer]\n..."

# --- OpenVPN (Option 1: Config file) ---
# OVPN_CONFIG=/path/to/client.ovpn

# --- OpenVPN (Option 2: Environment variables) ---
# OPENVPN_ENABLED=true
# OPENVPN_CONFIG="full config file contents here (multiline)"
# OPENVPN_CONFIG_PATH=/etc/openvpn/client.ovpn
# OPENVPN_USERNAME=your_username
# OPENVPN_PASSWORD=your_password
# OPENVPN_AUTH_PATH=/etc/openvpn/auth.txt
# OPENVPN_EXTRA_ARGS=--verb 3

# --- VPN Bypass (route certain traffic outside VPN) ---
# VPN_BYPASS_RPC=true                    # Route RPC traffic outside VPN for speed (default: true)
# VPN_BYPASS_POLYMARKET_READS=true       # Route read APIs outside VPN (default: true)

# === STRATEGY OVERRIDES (optional - preset values used if not set) ===

# Stacking - buy more of winning positions
# STACK_ENABLED=true
# STACK_MIN_GAIN_CENTS=20
# STACK_MAX_USD=25
# STACK_MAX_PRICE=0.95

# Hedging - protect losing positions
# HEDGE_ENABLED=true
# HEDGE_TRIGGER_PCT=20
# HEDGE_MAX_USD=25

# Stop Loss - sell at max loss
# STOP_LOSS_ENABLED=true
# STOP_LOSS_PCT=25

# Scalp - take profits
# SCALP_ENABLED=true
# SCALP_MIN_PROFIT_PCT=10
# SCALP_MIN_GAIN_CENTS=5

# Auto Sell - sell near $1
# AUTO_SELL_ENABLED=true
# AUTO_SELL_THRESHOLD=0.99

# Oversized Position Exit - exit positions exceeding USD threshold
# Implements tiered exit: 1) profit, 2) breakeven, 3) force exit before event
# AUTO_SELL_OVERSIZED_EXIT_ENABLED=false       # Enable oversized position exit (default: false)
# AUTO_SELL_OVERSIZED_EXIT_THRESHOLD_USD=25    # USD threshold (typically set to match HEDGING_ABSOLUTE_MAX_USD)
# AUTO_SELL_OVERSIZED_EXIT_HOURS_BEFORE_EVENT=1 # Force exit N hours before event (default: 1)
# AUTO_SELL_OVERSIZED_EXIT_BREAKEVEN_TOLERANCE_PCT=2 # P&L % tolerance for breakeven (default: 2%)

# === SCAVENGER MODE (low liquidity capital preservation) ===
# Automatically switches to capital preservation mode during low liquidity periods.
# Exit green positions opportunistically, monitor red positions for recovery,
# and optionally place small micro-buys with strict risk constraints.

# Enable/disable scavenger mode entirely (default: true)
# SCAVENGER_ENABLED=true

# Detection thresholds - when to enter scavenger mode
# SCAVENGER_VOLUME_THRESHOLD_USD=1000        # Min volume in 5-min window
# SCAVENGER_MIN_ORDERBOOK_DEPTH_USD=500      # Min orderbook depth
# SCAVENGER_MIN_ACTIVE_TARGETS=1             # Min active copy targets
# SCAVENGER_SUSTAINED_CONDITION_MS=180000    # How long conditions must persist (3 min)

# Green position exit settings
# SCAVENGER_STALLED_PRICE_THRESHOLD_MS=30000 # Price stall threshold (30 sec)
# SCAVENGER_MIN_GREEN_PROFIT_PCT=1           # Min profit % for green exit
# SCAVENGER_MIN_ACCEPTABLE_PROFIT_USD=0.50   # Min acceptable profit in USD

# Red position recovery settings
# SCAVENGER_SMALL_PROFIT_THRESHOLD_PCT=0.5   # Profit % to trigger recovery exit
# SCAVENGER_MIN_RECOVERY_PROFIT_USD=0.25     # Min profit for recovery exit

# Micro-buy settings (opportunistic small purchases)
# SCAVENGER_MICRO_BUY_ENABLED=true           # Enable micro-buys
# SCAVENGER_MICRO_BUY_MAX_POSITION_USD=10    # Max per micro-buy
# SCAVENGER_MICRO_BUY_MAX_CAPITAL_FRACTION=0.05 # Max % of capital per buy

# Risk constraints
# SCAVENGER_MAX_DEPLOYED_CAPITAL_USD=100     # Max total in scavenger mode
# SCAVENGER_MAX_POSITIONS=10                 # Max positions in scavenger mode
# SCAVENGER_TOKEN_COOLDOWN_MS=300000         # Re-entry cooldown (5 min)

# Reversion thresholds - when to exit scavenger mode
# SCAVENGER_VOLUME_RECOVERY_THRESHOLD_USD=5000
# SCAVENGER_DEPTH_RECOVERY_THRESHOLD_USD=2000
# SCAVENGER_MIN_ACTIVE_TARGETS_REVERSION=2
# SCAVENGER_SUSTAINED_RECOVERY_MS=120000     # Recovery must persist (2 min)

# === DEBUG/TEST OPTIONS ===
# TEST_SELL_RED_POSITION - Diagnostic feature to verify sells work
# When true, on startup:
#   1. Finds a position slightly in the red (-1% to -15% P&L)
#   2. Executes a test sell with verbose debug logging
#   3. Logs all position data and sell execution details
# Use this to verify your sell process works. DELETE once verified.
# TEST_SELL_RED_POSITION=true
