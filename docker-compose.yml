version: "3.9"
services:
  polymarket-copy-bot:
    build: .
    restart: unless-stopped
    cap_add:
      - NET_ADMIN
    devices:
      - /dev/net/tun:/dev/net/tun
    environment:
      - MODE=arb
      - TARGET_ADDRESSES=0xabc0000000000000000000000000000000000001,0xabc0000000000000000000000000000000000002
      - PUBLIC_KEY=0xdef0000000000000000000000000000000000000
      - PRIVATE_KEY=your_private_key
      - RPC_URL=https://polygon-mainnet.infura.io/v3/your_project_id
      - COLLATERAL_TOKEN_ADDRESS=0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174
      - COLLATERAL_TOKEN_DECIMALS=6
      - POLYMARKET_API_KEY=your_clob_api_key
      - POLYMARKET_API_SECRET=your_clob_api_secret
      - POLYMARKET_API_PASSPHRASE=your_clob_api_passphrase
      - FETCH_INTERVAL=1
      - TRADE_MULTIPLIER=1.0
      - RETRY_LIMIT=3
      - TRADE_AGGREGATION_ENABLED=false
      - TRADE_AGGREGATION_WINDOW_SECONDS=300
      - ARB_DRY_RUN=true
      - ARB_LIVE_TRADING=
      - ARB_SCAN_INTERVAL_MS=3000
      - ARB_MIN_EDGE_BPS=300
      - ARB_MIN_PROFIT_USD=1
      - ARB_MIN_LIQUIDITY_USD=10000
      - ARB_MAX_SPREAD_BPS=100
      - ARB_MAX_HOLD_MINUTES=120
      - ARB_TRADE_BASE_USD=3
      - ARB_MAX_POSITION_USD=15
      - ARB_MAX_WALLET_EXPOSURE_USD=50
      - ARB_SIZE_SCALING=sqrt
      - ARB_SLIPPAGE_BPS=30
      - ARB_FEE_BPS=10
      - ARB_STARTUP_COOLDOWN_SECONDS=120
      - ARB_MARKET_COOLDOWN_SECONDS=900
      - ARB_MAX_TRADES_PER_HOUR=4
      - ARB_MAX_CONSECUTIVE_FAILURES=2
      - ARB_MAX_CONCURRENT_TRADES=1
      - ARB_MIN_POL_GAS=3
      - ARB_APPROVE_UNLIMITED=false
      - ARB_STATE_DIR=/data
      - ARB_DECISIONS_LOG=/data/arb_decisions.jsonl
      - ARB_KILL_SWITCH_FILE=/data/KILL
      - ARB_SNAPSHOT_STATE=true
      - WIREGUARD_ENABLED=false
      - WIREGUARD_INTERFACE_NAME=wg0
      - WIREGUARD_ADDRESS=10.151.22.111/32,fd7d:76ee:e68f:a993:c4ca:f41:f871:35b4/128
      - WIREGUARD_PRIVATE_KEY=your_private_key
      - WIREGUARD_MTU=1320
      - WIREGUARD_DNS=10.128.0.1,fd7d:76ee:e68f:a993::1
      - WIREGUARD_PEER_PUBLIC_KEY=your_peer_public_key
      - WIREGUARD_PEER_PRESHARED_KEY=your_preshared_key
      - WIREGUARD_PEER_ENDPOINT=europe3.vpn.airdns.org:1637
      - WIREGUARD_ALLOWED_IPS=0.0.0.0/0,::/0
      - WIREGUARD_PERSISTENT_KEEPALIVE=15
      - WIREGUARD_FORCE_RESTART=false
    tmpfs:
      - /data:size=32m,mode=0700
